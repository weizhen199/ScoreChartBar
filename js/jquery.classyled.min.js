/*!
 * jQuery ClassyLED
 * vox.SPACE
 *
 * Written by Marius Stanciu - Sergiu <marius@vox.space>
 * Licensed under the MIT license https://vox.SPACE/LICENSE-MIT
 * Version 1.3.2
 */(function(e){e.fn.ClassyLED=function(t){var n=function(t,n){this.type;this.format;this.color;this.backgroundColor;this.rounded;this.spacing;this.value;this.hourFormat;this.digits=8;this.size;this.new_date;this.flash=true;this.dig=[];this.font1=[" 000    0    000   000     0  00000   00  00000  000   000             ","0   0  00   0   0 0   0   00  0      0        0 0   0 0   0            ","0   0   0       0     0  0 0  0     0         0 0   0 0   0   0        ","0   0   0    000   000  0  0  0000  0000     0   000   0000            ","0   0   0   0         0 00000     0 0   0   0   0   0     0            ","0   0   0   0     0   0    0  0   0 0   0  0    0   0    0    0        "," 000   000  00000  000     0   000   000  0      000   00              "];this.font2=[" 000    0    000  00000    0  00000   00  00000  000   000             ","0   0  00   0   0    0    00  0      0        0 0   0 0   0            ","0  00   0       0   0    0 0  0000  0        0  0   0 0   0   0        ","0 0 0   0     00     0  0  0      0 0000    0    000   0000            ","00  0   0    0        0 00000     0 0   0   0   0   0     0            ","0   0   0   0     0   0    0  0   0 0   0   0   0   0    0    0        "," 000   000  00000  000     0   000   000    0    000   00              "];this.font3=["00000     0 00000 00000 0   0 00000 00000 00000 00000 00000            ","0   0     0     0     0 0   0 0     0         0 0   0 0   0   0        ","0   0     0     0     0 0   0 0     0         0 0   0 0   0            ","0   0     0 00000 00000 00000 00000 00000     0 00000 00000            ","0   0     0 0         0     0     0 0   0     0 0   0     0            ","0   0     0 0         0     0     0 0   0     0 0   0     0   0        ","00000     0 00000 00000     0 00000 00000     0 00000 00000            "];this.led;this.__constructor=function(n){function u(e){var t=e.split(":");for(var n=0;n<t.length;n++){t[n]=parseInt(t[n],10)}return t}function a(){var e=new Date;if(o.type==="countdown"){o.updateLed1(e)}if(o.type==="time"){o.updateLed2(e)}if(o.type==="random"||o.type==="number"){o.updateLed0()}else{setTimeout(a,1e3)}}var r=new Date;this.type=typeof n.type!=="undefined"?n.type:"time";this.value=typeof n.value!=="undefined"?n.value:null;if(this.value!==null){this.digits=this.value.toString().length}this.format=typeof n.format!=="undefined"?n.format:"hh:mm";this.color=typeof n.color!=="undefined"?n.color:"#FFF";this.backgroundColor=typeof n.backgroundColor!=="undefined"?n.backgroundColor:"#000";this.rounded=typeof n.rounded!=="undefined"?n.rounded:1;this.spacing=typeof n.spacing!=="undefined"?n.spacing:1;this.hourFormat=typeof n.hourFormat!=="undefined"?n.hourFormat:24;this.fontType=typeof n.fontType!=="undefined"?n.fontType:1;this.led=this["font"+this.fontType];this.size=typeof n.size!=="undefined"?n.size:12;this.countTo=typeof n.countTo!=="undefined"?n.countTo:r.getFullYear()+1;var i=12,s,o=this;if(this.size<30){i=this.size}if(this.type==="random"){s=Raphael(e(t)[0],this.digits*6*(i+this.spacing)-(i+2*this.spacing),7*(i+this.spacing)-this.spacing);for(var f=0;f<this.digits*6;f++){this.dig[f]=[];for(var l=0;l<7;l++){this.dig[f][l]=s.rect(f*(i+this.spacing),l*(i+this.spacing),i,i,this.rounded).attr({fill:this.backgroundColor,stroke:null})}}a()}else if(this.type==="number"){s=Raphael(e(t)[0],this.digits*6*(i+this.spacing)-(i+2*this.spacing),7*(i+this.spacing)-this.spacing);for(var f=0;f<this.digits*6;f++){this.dig[f]=[];for(var l=0;l<7;l++){this.dig[f][l]=s.rect(f*(i+this.spacing),l*(i+this.spacing),i,i,this.rounded).attr({fill:this.backgroundColor,stroke:null})}}a()}else{s=Raphael(e(t)[0],this.format.length*6*(i+this.spacing)-(i+2*this.spacing),7*(i+this.spacing)-this.spacing)}if(this.type==="countdown"){var c=u(this.countTo+":1:1:0:0:00");this.new_date=new Date(c[0],c[1]-1,c[2],c[3],c[4]);for(var f=0;f<12*6;f++){this.dig[f]=[];for(var l=0;l<7;l++){this.dig[f][l]=s.rect(f*(i+this.spacing),l*(i+this.spacing),i,i,this.rounded).attr({fill:this.backgroundColor,stroke:null})}}a()}if(this.type==="time"){for(var f=0;f<(this.format==="mm:ss"||this.format==="hh:mm"?5:this.format==="hh"||this.format==="mm"||this.format==="ss"?2:8)*6;f++){this.dig[f]=[];for(var l=0;l<7;l++){this.dig[f][l]=s.rect(f*(i+this.spacing),l*(i+this.spacing),i,i,this.rounded).attr({fill:this.backgroundColor,stroke:null})}}a()}};this.updateLed0=function(){var e="";if(this.type==="random"){var t="0,9999999".split(",");e=""+parseInt(parseInt(t[0])+Math.random()*(parseInt(t[1])-parseInt(t[0])));while(String(e).length<this.digits){e="0"+e}}else{e=this.value.toString()}this._tick(e)};this.updateLed1=function(e){var t=parseInt((this.new_date.getTime()-e.getTime())/1e3)+1;var n=parseInt(t/86400);var r=parseInt((t-n*86400)/3600);var i=parseInt((t-n*86400-r*3600)/60);var s=parseInt(t-n*86400-r*3600-i*60);var o=(n<10?"00":n>100?"":"0")+n+":"+(r<10?"0":"")+r+":"+(i<10?"0":"")+i+":"+(s<10?"0":"")+s;if(this.new_date.getTime()-e.getTime()>=0){this._tick(o)}else{this._tick("000:00:00:00")}};this.updateLed2=function(e){var t;var n=parseInt(e.getHours());var n=this.hourFormat===12?n>12?n-12:n:n;var r=parseInt(e.getMinutes());var i=parseInt(e.getSeconds());if(this.format==="mm:ss"){t=(r<10?"0":"")+r+":"+(i<10?"0":"")+i}else if(this.format==="hh:mm"){if(this.flash){t=(n<10?"0":"")+n+":"+(r<10?"0":"")+r}else{t=(n<10?"0":"")+n+" "+(r<10?"0":"")+r}this.flash=!this.flash}else if(this.format==="hh"){t=(n<10?"0":"")+n}else if(this.format==="mm"){t=(r<10?"0":"")+r}else if(this.format==="ss"){t=(i<10?"0":"")+i}else{t=(n<10?"0":"")+n+":"+(r<10?"0":"")+r+":"+(i<10?"0":"")+i}this._tick(t)};this._tick=function(e){var t=0;for(var n=0;n<e.length;n++){e.charAt(n)===":"?t=10:e.charAt(n)===" "?t=11:t=e.charAt(n);for(var r=0;r<6;r++){for(var i=0;i<7;i++){if(this.led[i].charAt(t*6+r)==="0"&&this.dig[n*6+r][i].attrs.fill===this.backgroundColor){this.dig[n*6+r][i].animate({fill:this.color},300)}else if(this.led[i].charAt(t*6+r)===" "&&this.dig[n*6+r][i].attrs.fill!==this.backgroundColor){this.dig[n*6+r][i].animate({fill:this.backgroundColor},300)}}}}};return this.__constructor(n)};return this.each(function(){t.id=e(this).attr("id");return new n(this,t)})}})(jQuery);